<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../../public/css/xadmin.css">
    <script type="text/javascript" src="../../public/js/jquery-3.2.1.js"></script>
    <script type="text/javascript" src="../../public/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../public/js/xadmin.js"></script>
    <script type="text/javascript" src="../../public/js/tableSelect.js"></script>
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
    .layui-form-label {
        width: 110px
    }
    .layui-input-block{
        margin-left:130px
    }
    .logowidth{
        margin-left: 20px;
    }
    </style>
</head>

<body id="iosiframe">
    <div class="x-body">
        <div class="layui-row">
            <form id="GF_wx" class="layui-form" action="" lay-filter="GF_wx" style="display: none;">
               
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAppid" autocomplete="off" placeholder="公众号APPID" class="layui-input" lay-verify="wechatAppid" style="width:200px;display:inline-block"  >
                        <input type="text" name="weChatAuthorizeT" autocomplete="off" placeholder="公众号授权时间" class="layui-input" lay-verify="wechatAppid" style="margin-left:30px;width:220px;display:inline-block" disabled="disable">
                        <div class="layui-btn" id="shouquan" style="margin-left:30px;display:inline-block">重新授权</div>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPScrect</label>
                    <div class="layui-input-block">
                        
                         <input type="text" name="paymentSecretkey" autocomplete="off" placeholder="公众号APPScrect" class="layui-input" lay-verify="paymentSecretkey">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="smallroutineAppid" autocomplete="off" placeholder="小程序APPID" class="layui-input" lay-verify="smallroutineAppid" style="width:200px;display:inline-block" >
                        <input type="text" name="smallRoutineAuthorizeT" autocomplete="off" placeholder="小程序授权时间" class="layui-input" lay-verify="wechatAppid" style="margin-left:30px;width:220px;display:inline-block" disabled="disable">
                         <div class="layui-btn" id="shouquan1" style="margin-left:30px;display:inline-block">重新授权</div>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序AppSecret</label>
                    <div class="layui-input-block">
                        <input type="text" name="miniAppSecret" autocomplete="off" placeholder="小程序AppSecret" class="layui-input" lay-verify="miniAppSecret">
                    </div>
                </div>
                 <div class="layui-form-item">
                    <label class="layui-form-label">推荐关注APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="recommendAppid" autocomplete="off" placeholder="推荐关注公众号APPID" class="layui-input" lay-verify="appsecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付授权目录</label>
                    <div class="layui-input-block">
                        <input type="text" name="payDasd" autocomplete="off" placeholder="支付授权目录" class="layui-input" lay-verify="appsecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付前缀</label>
                    <div class="layui-input-block">
                        <input type="text" name="prefixPayment" autocomplete="off" placeholder="支付前缀(默认请写机构号)" class="layui-input" lay-verify="prefixPayment">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">微信服务商ID</label>
                    <div class="layui-input-block">
                        <input type="text" name="facilitatorId" autocomplete="off" placeholder="微信服务商ID" class="layui-input" lay-verify="facilitatorId">
                    </div>
                </div>
                <div class="layui-form-item">
                        <label class="layui-form-label">微信支付key</label>
                        <div class="layui-input-block">
                            
                            <input type="text" name="wechatKey" autocomplete="off" placeholder="微信支付key" class="layui-input" lay-verify="wechatKey">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">退款证书路径</label>
                        <div class="layui-input-block">
                            
                            <input type="text" name="certificatePath" autocomplete="off" placeholder="退款证书路径" class="layui-input" lay-verify="wechatLink">
                        </div>
                    </div>
                
               
                <div class="layui-form-item">
                    <label class="layui-form-label">回调地址</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="tokenUrl" autocomplete="off" placeholder="回调地址" rows="3" lay-verify="tokenUrl"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付网关</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="wechatPaymentGateway" autocomplete="off" placeholder="支付网关" rows="3" lay-verify="wechatPaymentGateway"></textarea>
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                    <label class="layui-form-label">退款证书</label>
                    <div class="layui-input-block">
                        <button type="button" class="layui-btn layui-btn-normal" id="tuikuanchoose">选择证书</button>
                        <button type="button" class="layui-btn" id="tuikuanupload">开始上传</button>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">域名验证文件</label>
                    <div class="layui-input-block">
                        <button type="button" class="layui-btn layui-btn-normal" id="yumingchoose">选择文件</button>
                        <button type="button" class="layui-btn" id="yumingupload">开始上传</button>
                    </div>
                </div> -->
                 <div class="layui-form-item">
                    <label class="layui-form-label">中文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatName" autocomplete="off" placeholder="请输入通道中文名称" class="layui-input" lay-verify="wechatName">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">英文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatSpell" autocomplete="off" placeholder="请输入通道英文名称,建议英文首字母" class="layui-input" lay-verify="wechatSpell">
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                        <label class="layui-form-label">状态</label>
                        <div class="layui-input-inline">
                            <div class="layui-input-inline">
                                <input type="checkbox" name="wechatDisable" lay-skin="switch" lay-filter="GF_wxswitch" lay-text="启用|禁用">
                            </div>
                        </div>
                    </div> -->
                <div class="layui-form-item layui-layout-admin">
                    <div class="layui-input-block">
                        <div class="layui-footer" style="left: 0;text-align: center;">
                            <button class="layui-btn" lay-submit="" lay-filter="addwx">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary" class="quxiao" onclick="x_admin_close()">取消</button>
                        </div>
                        <!--<i class="layui-icon" lay-tips="推荐追求开发效率和缺乏前端开发经验的使用，后端开发者的最爱。">123123123</i>-->
                    </div>
                </div>
            </form>
            <form id="GF_zfb" class="layui-form" action="" lay-filter="GF_zfb" style="display: none;">
                
                <div class="layui-form-item">
                    <label class="layui-form-label">PID</label>
                    <div class="layui-input-block">
                        <input type="text" name="alipayPid" autocomplete="off" placeholder="合作伙伴pid" class="layui-input" lay-verify="alipayPid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付宝AppID</label>
                    <div class="layui-input-block">
                        <input type="text" name="alipayAppid" autocomplete="off" placeholder="应用appid" class="layui-input" lay-verify="alipayAppid">
                    </div>
                </div>
                
                <div class="layui-form-item">
                    <label class="layui-form-label">商户RSA私钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="privateKey" autocomplete="off" placeholder="RSA私钥" lay-verify="privateKey" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">商户RSA公钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="publicKey" autocomplete="off" placeholder="RSA公钥" lay-verify="publicKey" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付宝应用公钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="alipayPublicKey" autocomplete="off" placeholder="应用公钥" lay-verify="alipayPublicKey" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付前缀</label>
                    <div class="layui-input-block">
                        <input type="text" name="prefixPayment" autocomplete="off" placeholder="支付前缀(默认请写机构号)" class="layui-input" lay-verify="prefixPayment">
                    </div>
                </div>
                 <div class="layui-form-item">
                    <label class="layui-form-label">回调地址</label>
                    <div class="layui-input-block">
                        
                        <input type="text" name="notifyUrl" autocomplete="off" placeholder="回调地址" class="layui-input" lay-verify="notifyUrl">
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                    <label class="layui-form-label">支付授权目录</label>
                    <div class="layui-input-block">
                        <input type="text" name="payDasd" autocomplete="off" placeholder="支付授权目录" class="layui-input" lay-verify="appsecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">推荐关注APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="recommendAppid" autocomplete="off" placeholder="推荐关注公众号APPID" class="layui-input" lay-verify="appsecret">
                    </div>
                </div> -->
               
                <div class="layui-form-item">
                    <label class="layui-form-label">支付网关</label>
                    <div class="layui-input-block">
                       
                         <input type="text" name="alipayPaymentGateway" autocomplete="off" placeholder="支付网关" class="layui-input" lay-verify="alipayPaymentGateway">
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                        <label class="layui-form-label">状态</label>
                        <div class="layui-input-inline">
                            <div class="layui-input-inline">
                                <input type="checkbox" name="alipayDisable" lay-skin="switch" lay-filter="GF_zfbswitch" lay-text="启用|禁用">
                            </div>
                        </div>
                    </div> -->
                    <div class="layui-form-item">
                    <label class="layui-form-label">中文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="alipayName" autocomplete="off" placeholder="请输入通道中文名称" class="layui-input" lay-verify="alipayName">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">英文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="alipaySpell" autocomplete="off" placeholder="请输入通道英文名称,建议英文首字母" class="layui-input" lay-verify="alipaySpell">
                    </div>
                </div>
                <div class="layui-form-item layui-layout-admin">
                    <div class="layui-input-block">
                        <div class="layui-footer" style="left: 0;text-align: center;">
                            <button class="layui-btn" lay-submit="" lay-filter="addzfb">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary" class="quxiao" onclick="x_admin_close()">取消</button>
                        </div>
                        <!--<i class="layui-icon" lay-tips="推荐追求开发效率和缺乏前端开发经验的使用，后端开发者的最爱。">123123123</i>-->
                    </div>
                </div>
            </form>
            <form id="FY" class="layui-form" action="" lay-filter="FY" style="display: none;">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">微信参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">微信渠道号</label>
                    <div class="layui-input-block">
                        <input type="text" name="weChaChannelNumber" autocomplete="off" placeholder="微信渠道号" class="layui-input" lay-verify="">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAppid" autocomplete="off" placeholder="公众号APPID" class="layui-input" lay-verify="wxappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPScrect</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAppSecret" autocomplete="off" placeholder="公众号APPScrect" class="layui-input" lay-verify="wxappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="smallroutineAppid" autocomplete="off" placeholder="小程序APPID" class="layui-input" lay-verify="miniappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序AppSecret</label>
                    <div class="layui-input-block">
                        <input type="text" name="miniAppSecret" autocomplete="off" placeholder="小程序AppSecret" class="layui-input" lay-verify="miniAppSecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">推荐关注APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="recommendAppid" autocomplete="off" placeholder="推荐关注公众号APPID" class="layui-input" lay-verify="appsecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付授权目录</label>
                    <div class="layui-input-block">
                        <input type="text" name="payDasd" autocomplete="off" placeholder="支付授权目录" class="layui-input" lay-verify="appsecret">
                    </div>
                </div>
                <div class="layui-form-item logoUpk">
                    <label class="layui-form-label">认证二维码</label>
                    <div class="layui-input-inline logowidth">
                        <div class="layui-upload-img" id="">
                            <img src="../../public/images/default.png" id="demo1" style="max-width: 100%;max-height: 100%;" lay-filter="logo">
                        </div>
                    </div>
                    <div class="layui-input-inline uploadimgbtn">
                        <p id="demoText3" class="block"></p>
                        <button type="button" class="layui-btn layui-btn-sm block" id="test1">上传图片</button>
                    </div>
                    
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">支付宝参数</legend>
                </fieldset>
                <div id="disanfang">
                    <div class="layui-form-item">
                        <label class="layui-form-label">PID</label>
                        
                        <div class="layui-input-block">
                        <input type="text" name="aliPID" autocomplete="off" placeholder="支付宝PID" class="layui-input" lay-verify="aliPID">
                         </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝AppID</label>
                        
                        <div class="layui-input-block">
                        <input type="text" name="aliAppid" autocomplete="off" placeholder="支付宝Appid" class="layui-input" lay-verify="appsecret">
                    </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA私钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPrivateKey" autocomplete="off" placeholder="RSA私钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPublicKey" autocomplete="off" placeholder="RSA公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝应用公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPayPublicKey" autocomplete="off" placeholder="应用公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                   
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">富友参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">富友机构RSA私钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="insPrivateKey" autocomplete="off" placeholder="富友机构RSA私钥" lay-verify="siyao" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">富友机构RSA公钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="insPublicKey" autocomplete="off" placeholder="富友机构RSA公钥" lay-verify="gongyao" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">富友公钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="publicKey" autocomplete="off" placeholder="富友公钥" lay-verify="fygongyao" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付前缀</label>
                    <div class="layui-input-block">
                        <input type="text" name="prefixPayment" autocomplete="off" placeholder="一级机构号" class="layui-input" lay-verify="jigouhao">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">一级机构号</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentInstitutionNo" autocomplete="off" placeholder="一级机构号" class="layui-input" lay-verify="jigouhao">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">二级机构号</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentInstitutionNo2" autocomplete="off" placeholder="二级机构号" class="layui-input" lay-verify="jigouhao">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">富友进件秘钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="entryKey" autocomplete="off" placeholder="富友进件秘钥" lay-verify="entryKey" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">进件FTP账号</label>
                    <div class="layui-input-block">
                        <input type="text" name="entryFtpN" autocomplete="off" placeholder="进件FTP账号" class="layui-input" lay-verify="entryFtpN">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">进件FTP密码</label>
                    <div class="layui-input-block">
                        <input type="text" name="entryFtpP" autocomplete="off" placeholder="进件FTP密码" class="layui-input" lay-verify="entryFtpP">
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">其他信息</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">回调地址</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="notifyUrl" autocomplete="off" placeholder="回调地址" rows="3" lay-verify="huidiaodizhi"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付网关</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="paymentGateway" autocomplete="off" placeholder="支付网关" rows="3" lay-verify="zhifuwangguan"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">中文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentName" autocomplete="off" placeholder="请输入通道中文名称" class="layui-input" lay-verify="paymentName">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">英文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentSpell" autocomplete="off" placeholder="请输入通道英文名称,建议英文首字母" class="layui-input" lay-verify="paymentSpell">
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                        <label class="layui-form-label">通道状态</label>
                        <div class="layui-input-inline">
                            <div class="layui-input-inline">
                                <input type="checkbox" name="disable" lay-skin="switch" lay-filter="fyswitch" lay-text="开|关">
                            </div>
                        </div>
                    </div> -->
                <div class="layui-form-item layui-layout-admin">
                    <div class="layui-input-block">
                        <div class="layui-footer" style="left: 0;text-align: center;">
                            <button class="layui-btn" lay-submit="" lay-filter="addfy">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary" class="quxiao" onclick="x_admin_close()">取消</button>
                        </div>
                        <!--<i class="layui-icon" lay-tips="推荐追求开发效率和缺乏前端开发经验的使用，后端开发者的最爱。">123123123</i>-->
                    </div>
                </div>
            </form>
            <form id="yrm" class="layui-form" style="display:none" action="" lay-filter="yrm">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">微信参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAppid" autocomplete="off" placeholder="公众号APPID" class="layui-input" lay-verify="wxappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPScrect</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatappsecret" autocomplete="off" placeholder="公众号APPScrect" class="layui-input" lay-verify="wxappid1">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="smallroutineAppid" autocomplete="off" placeholder="小程序APPID" class="layui-input" lay-verify="miniappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序AppSecret</label>
                    <div class="layui-input-block">
                        <input type="text" name="miniAppsecret" autocomplete="off" placeholder="小程序AppSecret" class="layui-input" lay-verify="miniAppSecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">推荐关注APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="recommendAppid" autocomplete="off" placeholder="推荐关注公众号APPID" class="layui-input" lay-verify="appsecret1">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付授权目录</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentAuthorization" autocomplete="off" placeholder="支付授权目录" class="layui-input" lay-verify="appsecret2">
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">支付宝参数</legend>
                </fieldset>
                <div id="disanfang">
                    <div class="layui-form-item">
                        <label class="layui-form-label">PID</label>
                        
                        <div class="layui-input-block">
                        <input type="text" name="aliPID" autocomplete="off" placeholder="支付宝PID" class="layui-input" lay-verify="aliPID"> </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝Appid</label>
                        
                        <div class="layui-input-block">
                        <input type="text" name="aliAppid" autocomplete="off" placeholder="支付宝Appid" class="layui-input" lay-verify="appsecret3">
                    </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA私钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPrivateKey" autocomplete="off" placeholder="RSA私钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPublicKey" autocomplete="off" placeholder="RSA公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝应用公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPayPublicKey" autocomplete="off" placeholder="应用公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">易融码参数</legend>
                </fieldset>
                 <div class="layui-form-item">
                    <label class="layui-form-label">支付前缀</label>
                    <div class="layui-input-block">
                        <input type="text" name="prefixPayment" autocomplete="off" placeholder="支付前缀(默认请写机构号)" class="layui-input" lay-verify="prefixPayment">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">机构号</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentInstitutionNo" autocomplete="off" placeholder="机构号" class="layui-input" lay-verify="appsecret4">
                    </div>
                </div>
               
                <div class="layui-form-item">
                    <label class="layui-form-label">机构秘钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="paymentInstitutionKey" autocomplete="off" placeholder="机构秘钥" lay-verify="fygongyao" rows="3"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">销售ID</label>
                    <div class="layui-input-block">
                        <input type="text" name="sellId" autocomplete="off" placeholder="销售ID" class="layui-input" lay-verify="appsecret5">
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">其他信息</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">回调地址</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="notifyUrl" autocomplete="off" placeholder="回调地址" rows="3" lay-verify="huidiaodizhi"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付网关</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="paymentGateway" autocomplete="off" placeholder="支付网关" rows="3" lay-verify="zhifuwangguan"></textarea>
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                    <label class="layui-form-label">通道状态</label>
                    <div class="layui-input-block">
                        <input type="checkbox" name="disable" lay-skin="switch" lay-filter="fyswitch" lay-text="开|关" checked>
                    </div>
                </div> -->
                <div class="layui-form-item">
                    <label class="layui-form-label">中文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentName" autocomplete="off" placeholder="请输入通道中文名称" class="layui-input" lay-verify="paymentName">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">英文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentSpell" autocomplete="off" placeholder="请输入通道英文名称,建议英文首字母" class="layui-input" lay-verify="paymentSpell">
                    </div>
                </div>
                <div class="layui-form-item layui-layout-admin">
                    <div class="layui-input-block">
                        <div class="layui-footer" style="left: 0;text-align: center;">
                            <button class="layui-btn" lay-submit="" lay-filter="addyrm">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary" id="quxiao" onclick="x_admin_close()">取消</button>
                        </div>
                        <!--<i class="layui-icon" lay-tips="推荐追求开发效率和缺乏前端开发经验的使用，后端开发者的最爱。">123123123</i>-->
                    </div>
                </div>
            </form>
            <form class="layui-form" style="display:none" action="" id="xdl" lay-filter="xdl">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">微信参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">微信渠道号</label>
                    <div class="layui-input-block">
                        <input type="text" name="weChaChannelNumber" autocomplete="off" placeholder="微信渠道号" class="layui-input" lay-verify="">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAPPID" autocomplete="off" placeholder="公众号APPID" class="layui-input" lay-verify="wxappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPScrect</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAppSecret" autocomplete="off" placeholder="公众号APPScrect" class="layui-input" lay-verify="wxappid1">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="smallRoutineAPPID" autocomplete="off" placeholder="小程序APPID" class="layui-input" lay-verify="miniappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序AppSecret</label>
                    <div class="layui-input-block">
                        <input type="text" name="smallRoutineAppSecret" autocomplete="off" placeholder="小程序AppSecret" class="layui-input" lay-verify="miniAppSecret">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">推荐关注APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="recommendAPPID" autocomplete="off" placeholder="推荐关注公众号APPID" class="layui-input" lay-verify="appsecret1">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付授权目录</label>
                    <div class="layui-input-block">
                        <input type="text" name="payDASD" autocomplete="off" placeholder="支付授权目录" class="layui-input" lay-verify="appsecret2">
                    </div>
                </div>
                <div class="layui-form-item logoUpk">
                    <label class="layui-form-label">认证二维码</label>
                    <div class="layui-input-inline logowidth">
                        <div class="layui-upload-img" id="">
                            <img src="../../public/images/default.png" id="demo2" style="max-width: 100%;max-height: 100%;" lay-filter="logo">
                        </div>
                    </div>
                    <div class="layui-input-inline uploadimgbtn">
                        <p id="demoText3" class="block"></p>
                        <button type="button" class="layui-btn layui-btn-sm block" id="test2">上传图片</button>
                    </div>
                    
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">支付宝参数</legend>
                </fieldset>
                <div id="disanfang">
                    <div class="layui-form-item">
                        <label class="layui-form-label">PID</label>
                        
                        <div class="layui-input-block">
                            <input type="text" name="aliPID" autocomplete="off" placeholder="支付宝PID" class="layui-input" lay-verify="aliPID">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝Appid</label>
                        <div class="layui-input-block">
                            <input type="text" name="aliAPPID" autocomplete="off" placeholder="支付宝Appid" class="layui-input" lay-verify="appsecret3">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA私钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPrivateKey" autocomplete="off" placeholder="RSA私钥" lay-verify="fygongyao" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPublicKey" autocomplete="off" placeholder="RSA公钥" lay-verify="fygongyao" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝应用公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPayPublicKey" autocomplete="off" placeholder="应用公钥" lay-verify="fygongyao" rows="3"></textarea>
                        </div>
                    </div>
                    <!-- <div class="layui-form-item">
                        <label class="layui-form-label">支付宝RSA私钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPrivateKey" autocomplete="off" placeholder="RSA私钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝RSA公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPublicKey" autocomplete="off" placeholder="RSA公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝应用公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aliPayPublicKey" autocomplete="off" placeholder="应用公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div> -->
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">新大陆参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付前缀</label>
                    <div class="layui-input-block">
                        <input type="text" name="prefixPayment" autocomplete="off" placeholder="支付前缀(默认请写机构号)" class="layui-input" lay-verify="prefixPayment">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">机构号</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentInstitutionNo" autocomplete="off" placeholder="机构号" class="layui-input" lay-verify="appsecret4">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">机构秘钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="insPrivateKey" autocomplete="off" placeholder="机构秘钥" lay-verify="fygongyao" rows="3"></textarea>
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">其他信息</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">回调地址</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="notifyUrl" autocomplete="off" placeholder="回调地址" rows="3" lay-verify="huidiaodizhi"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付网关</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="paymentGateway" autocomplete="off" placeholder="支付网关" rows="3" lay-verify="zhifuwangguan"></textarea>
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                    <label class="layui-form-label">通道状态</label>
                    <div class="layui-input-block">
                        <input type="checkbox" name="disable" lay-skin="switch" lay-filter="fyswitch" lay-text="开|关" checked>
                    </div>
                </div> -->
                <div class="layui-form-item">
                    <label class="layui-form-label">中文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentName" autocomplete="off" placeholder="请输入通道中文名称" class="layui-input" lay-verify="paymentName">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">英文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentSpell" autocomplete="off" placeholder="请输入通道英文名称,建议英文首字母" class="layui-input" lay-verify="paymentSpell">
                    </div>
                </div>
                <div class="layui-form-item layui-layout-admin">
                    <div class="layui-input-block">
                        <div class="layui-footer" style="left: 0;text-align: center;">
                            <button class="layui-btn" lay-submit="" lay-filter="addxdl">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary" id="quxiao" onclick="x_admin_close()">取消</button>
                        </div>
                        <!--<i class="layui-icon" lay-tips="推荐追求开发效率和缺乏前端开发经验的使用，后端开发者的最爱。">123123123</i>-->
                    </div>
                </div>
            </form>
             <form class="layui-form" style="display:none" id="sxf" action="" lay-filter="tongdao">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">微信参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">微信渠道号</label>
                    <div class="layui-input-block">
                        <input type="text" name="weChaChannelNumber" autocomplete="off" placeholder="微信渠道号" class="layui-input" lay-verify="">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="weChatAPPID" autocomplete="off" placeholder="公众号APPID" class="layui-input" lay-verify="wxappid">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">公众号APPScrect</label>
                    <div class="layui-input-block">
                        <input type="text" name="wechatAppSecret" autocomplete="off" placeholder="公众号APPScrect" class="layui-input" lay-verify="wxappid1">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">小程序APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="smallRoutineAPPID" autocomplete="off" placeholder="小程序APPID" class="layui-input" lay-verify="miniappid">
                    </div>
                </div>
                <div class="layui-form-item">
                        <label class="layui-form-label">小程序AppSecret</label>
                        <div class="layui-input-block">
                            <input type="text" name="miniAppSecret" autocomplete="off" placeholder="小程序AppSecret" class="layui-input" lay-verify="miniAppSecret">
                        </div>
                    </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">推荐关注APPID</label>
                    <div class="layui-input-block">
                        <input type="text" name="recommendAPPID" autocomplete="off" placeholder="推荐关注公众号APPID" class="layui-input" lay-verify="appsecret1">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付授权目录</label>
                    <div class="layui-input-block">
                        <input type="text" name="payDASD" autocomplete="off" placeholder="支付授权目录" class="layui-input" lay-verify="appsecret2">
                    </div>
                </div>
                <div class="layui-form-item logoUpk">
                    <label class="layui-form-label">认证二维码</label>
                    <div class="layui-input-inline logowidth">
                        <div class="layui-upload-img" id="">
                            <img src="../../public/images/default.png" id="demo3" style="max-width: 100%;max-height: 100%;" lay-filter="logo">
                        </div>
                    </div>
                    <div class="layui-input-inline uploadimgbtn">
                        <p id="demoText3" class="block"></p>
                        <button type="button" class="layui-btn layui-btn-sm block" id="test3">上传图片</button>
                    </div>
                    
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend  style="font-weight: 500;">支付宝参数</legend>
                </fieldset>
                <div id="disanfang">
                    <div class="layui-form-item">
                        <label class="layui-form-label">PID</label>
                        
                        <div class="layui-input-block">
                        <input type="text" name="aLIPID" autocomplete="off" placeholder="支付宝PID" class="layui-input" lay-verify="aliPID"> </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝Appid</label>
                        
                        <div class="layui-input-block">
                        <input type="text" name="aLIAPPID" autocomplete="off" placeholder="支付宝Appid" class="layui-input" lay-verify="appsecret3">
                    </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA私钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aLIPRIVATEKEY" autocomplete="off" placeholder="RSA私钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商户RSA公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aLIPUBLICKEY" autocomplete="off" placeholder="RSA公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">支付宝应用公钥</label>
                        <div class="layui-input-block">
                            <textarea class="layui-textarea" name="aLIPAYPUBLICKEY" autocomplete="off" placeholder="应用公钥" lay-verify="title" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">随行付参数</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付前缀</label>
                    <div class="layui-input-block">
                        <input type="text" name="prefixPayment" autocomplete="off" placeholder="支付前缀(默认请写机构号)" class="layui-input" lay-verify="prefixPayment">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">机构ID</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentInstitutionNo" autocomplete="off" placeholder="机构ID" class="layui-input" lay-verify="appsecret4">
                    </div>
                </div>
               
                <div class="layui-form-item">
                    <label class="layui-form-label">RSA私钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="INSPRIVATEKEY" autocomplete="off" placeholder="RSA私钥" lay-verify="fygongyao" rows="3"></textarea>
                    </div>
                </div>
                 <div class="layui-form-item">
                    <label class="layui-form-label">RSA公钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="INSPUBLICKEY" autocomplete="off" placeholder="RSA公钥" lay-verify="fygongyao" rows="3"></textarea>
                    </div>
                </div>
                 <div class="layui-form-item">
                    <label class="layui-form-label">随行付公钥</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="PUBLICKEY" autocomplete="off" placeholder="随行付公钥" lay-verify="fygongyao" rows="3"></textarea>
                    </div>
                </div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend style="font-weight: 500;">其他信息</legend>
                </fieldset>
                <div class="layui-form-item">
                    <label class="layui-form-label">回调地址</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="notifyUrl" autocomplete="off" placeholder="回调地址" rows="3" lay-verify="huidiaodizhi"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">支付网关</label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="paymentGateway" autocomplete="off" placeholder="支付网关" rows="3" lay-verify="zhifuwangguan"></textarea>
                    </div>
                </div>
                <!-- <div class="layui-form-item">
                    <label class="layui-form-label">通道状态</label>
                    <div class="layui-input-block">
                        <input type="checkbox" name="disable" lay-skin="switch" lay-filter="fyswitch" lay-text="开|关" checked>
                    </div>
                </div> -->
                <div class="layui-form-item">
                    <label class="layui-form-label">中文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentName" autocomplete="off" placeholder="请输入通道中文名称" class="layui-input" lay-verify="paymentName">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">英文名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="paymentSpell" autocomplete="off" placeholder="请输入通道英文名称,建议英文首字母" class="layui-input" lay-verify="paymentSpell">
                    </div>
                </div>
                <div class="layui-form-item layui-layout-admin">
                    <div class="layui-input-block">
                        <div class="layui-footer" style="left: 0;text-align: center;">
                            <button class="layui-btn" lay-submit="" lay-filter="add">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary" id="quxiao" onclick="x_admin_close()">取消</button>
                        </div>
                        <!--<i class="layui-icon" lay-tips="推荐追求开发效率和缺乏前端开发经验的使用，后端开发者的最爱。">123123123</i>-->
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script src="../../common/config-organ.js"></script>
    <script src="../../common/utility.js"></script>
    <script>
    var index = parent.layer.getFrameIndex(window.name);
    $('.quxiao').click(function() {

        setTimeout(function() { parent.layer.close(index) }, 16);
    })
    var gzhAuthId,gzhAuthTime,gzhNo,xcxAuthId,xcxAuthTime,xcxNo;
    var authenticationQRCode =''
    function subPage(data, data1) {
        console.log(data)
        var serverUrl = window.parent.serverUrl
        var userNumber = JSON.parse(sessionStorage.getItem('organUser')).institutionNumber;
        var jgData = data
        var sjData;
        var type = false;
        console.log(jgData.paymentChannelType)
        layui.use(['laydate', 'table', 'upload', 'form'], function() {
            var $ = layui.jquery,
                upload = layui.upload,
                laydate = layui.laydate,
                table = layui.table,
                form = layui.form,
                admin = layui.admin,
                element = layui.element,
                layer = layui.layer;
            var tableSelect = layui.tableSelect;
            console.log(jgData.paymentChannelType)
            //表单初始赋值
            if (jgData.paymentChannelType == 0) {
                console.log(jgData)
                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.getZFBOfficial, {
                        'alipayNumber': jgData.id,
                        'institutionNumber':userNumber
                    },
                    function(data) {
                        if (data.code == 1000) {
                            console.log(data)
                            sjData = data.data
                            $('#GF_zfb').show()
                            form.val('GF_zfb', {
                                "alipayName": sjData.alipayName,
                                "alipaySpell": sjData.alipaySpell,
                                "alipayAppid": sjData.alipayAppid,
                                "alipayPid": sjData.alipayPid,
                                "privateKey": sjData.privateKey,
                                "publicKey": sjData.publicKey,
                                "alipayPublicKey": sjData.alipayPublicKey,
                                "notifyUrl": sjData.notifyUrl,
                                "alipayPaymentGateway": sjData.alipayPaymentGateway,
                                "alipayDisable": sjData.alipayDisable == 0 ? true : false,
                                "payDasd": sjData.payDasd,
                                "recommendAppid": sjData.recommendAppid,
                                "prefixPayment":sjData.prefixPayment,

                            })
                            type = sjData.alipayDisable == 0 ? true : false
                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    },
                    'post',
                    'false'
                )


            } else if (jgData.paymentChannelType == 1) {

                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.getWXOfficial, {
                        'wechatNumber': jgData.id,
                        'institutionNumber':userNumber
                    },
                    function(data) {
                        if (data.code == 1000) {
                            console.log(data)
                            sjData = data.data
                            $('#GF_wx').show()
                            gzhAuthTime = sjData.weChatAuthorizeT
                            gzhNo = sjData.authorizationNo
                            xcxAuthTime = sjData.smallRoutineAuthorizeT
                            xcxNo = sjData.authorizationNo2
                            form.val('GF_wx', {
                                "wechatName": sjData.wechatName,
                                "wechatSpell": sjData.wechatSpell,
                                "wechatAppid": sjData.wechatAppid,
                                "weChatAuthorizeT":'授权时间:' + sjData.weChatAuthorizeT,
                                "smallRoutineAuthorizeT":'授权时间：' + sjData.smallRoutineAuthorizeT,
                                "smallroutineAppid": sjData.smallroutineAppid,
                                "paymentSecretkey": sjData.paymentSecretkey,
                                "facilitatorId": sjData.facilitatorId,
                                "wechatKey": sjData.wechatKey,
                                "tokenUrl": sjData.tokenUrl,
                                "wechatPaymentGateway": sjData.wechatPaymentGateway,
                                "wechatDisable": sjData.wechatDisable == 0 ? true : false,
                                "payDasd": sjData.payDasd,
                                "recommendAppid": sjData.recommendAppid,
                                "miniAppSecret": sjData.miniAppSecret,
                                "prefixPayment":sjData.prefixPayment,
                                "certificatePath":sjData.certificatePath
                            })
                            type = sjData.wechatDisable == 0 ? true : false
                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    },
                    'post',
                    'false'
                )

            } else if (jgData.paymentChannelType == 2) {

                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.getThirdpartyOfficial, {
                        'institutionNumber': userNumber,
                        'paymentChannel': jgData.id
                    },
                    function(data) {
                        if (data.code == 1000) {
                            console.log(data)
                            sjData = data.data
                            $('#FY').show()
                            form.val('FY', {
                                "paymentName": sjData.paymentName,
                                "paymentSpell": sjData.paymentSpell,
                                "wechatAppid": sjData.wechatAppid,
                                "smallroutineAppid": sjData.smallroutineAppid,
                                "insPrivateKey": sjData.insPrivateKey,
                                "insPublicKey": sjData.insPublicKey,
                                "publicKey": sjData.publicKey,
                                "paymentInstitutionNo": sjData.paymentInstitutionNo,

                                "paymentInstitutionNo2": sjData.paymentInstitutionNo2,
                                "notifyUrl": sjData.notifyUrl,
                                "paymentGateway": sjData.paymentGateway,
                                "disable": sjData.disable == 0 ? true : false,
                                "payDasd": sjData.payDasd,
                                "recommendAppid": sjData.recommendAppid,
                                "aliAppid": sjData.aliAppid,
                                "aliPayPublicKey": sjData.aliPayPublicKey,
                                "aliPrivateKey": sjData.aliPrivateKey,
                                "aliPublicKey": sjData.aliPublicKey,
                                "wechatAppSecret": sjData.wechatAppSecret,
                                "prefixPayment": sjData.prefixPayment,
                                "entryKey": sjData.entryKey,
                                "entryFtpN": sjData.entryFtpN,
                                "entryFtpP": sjData.entryFtpP,
                                "miniAppSecret": sjData.miniAppSecret,
                                "aliPID": sjData.aliPID,
                                "weChaChannelNumber":sjData.weChaChannelNumber,
                            })
                            authenticationQRCode = sjData.authenticationQRCode
                             $('#demo1').attr('src', sjData.authenticationQRCode)
                            type = sjData.disable == 0 ? true : false
                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    },
                    'post',
                    'false'
                )

            } else if (jgData.paymentChannelType == 3) {

                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.getYrmOfficial, {
                        'institutionNumber': userNumber,
                        'paymentChannel': jgData.id
                    },
                    function(data) {
                        if (data.code == 1000) {
                            console.log(data)
                            sjData = data.data
                            $('#yrm').show()
                            form.val('yrm', {
                                "agencyKey": sjData.agencyKey,
                                "agencyNumber": sjData.agencyNumber,
                                "aliAppid": sjData.aliAppid,
                                "paymentName": sjData.paymentName,
                                "paymentSpell": sjData.paymentSpell,
                                "notifyUrl": sjData.notifyUrl,
                                "paymentAuthorization": sjData.paymentAuthorization,
                                "paymentGateway": sjData.paymentGateway,

                                "recommendAppid": sjData.recommendAppid,
                                "sellId": sjData.sellId,
                                "smallroutineAppid": sjData.smallroutineAppid,
                                "disable": sjData.disable == 0 ? true : false,
                                "wechatAppid": sjData.wechatAppid,
                                "wechatappsecret": sjData.wechatappsecret,
                                "miniAppsecret": sjData.miniAppsecret,
                                "paymentInstitutionNo": sjData.paymentInstitutionNo,
                                "paymentInstitutionKey": sjData.paymentInstitutionKey,
                                "pid":sjData.pid,
                                "alipayAppid":sjData.aliAppid,
                                "aliPrivateKey":sjData.aliPrivateKey,
                                "aliPublicKey":sjData.aliPublicKey,
                                "aliPayPublicKey":sjData.aliPayPublicKey,
                                "aliPID": sjData.aliPID,
                                
                                "weChaChannelNumber":sjData.weChaChannelNumber,
                                // "aliAppid":sjData.aliAppid,
                                // "aliPayPublicKey":sjData.aliPayPublicKey,
                                // "aliPrivateKey":sjData.aliPrivateKey,
                                // "aliPublicKey":sjData.aliPublicKey,
                                // "wechatAppSecret":sjData.wechatAppSecret,
                                "prefixPayment":sjData.prefixPayment,
                                // "entryKey":sjData.entryKey,
                                // "entryFtpN":sjData.entryFtpN,
                                // "entryFtpP":sjData.entryFtpP
                            })
                             authenticationQRCode = sjData.authenticationQRCode
                             $('#demo3').attr('src', sjData.authenticationQRCode)
                            type = sjData.disable == 0 ? true : false
                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    },
                    'post',
                    'false'
                )

            } else if (jgData.paymentChannelType == 4) {
                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.getConfigureXdl, {
                        'institutionNumber': userNumber,
                        'paymentChannel': jgData.id
                    },
                    function(data) {
                        if (data.code == 1000) {
                            console.log(data)
                            sjData = data.data
                            $('#xdl').show()
                            form.val('xdl', {
                                "wechatAPPID": sjData.wechatAPPID,
                                "wechatAppSecret": sjData.wechatAppSecret,
                                "smallRoutineAPPID": sjData.smallRoutineAPPID,
                                "smallRoutineAppSecret": sjData.smallRoutineAppSecret,
                                "recommendAPPID": sjData.recommendAPPID,
                                "payDASD": sjData.payDASD,
                                "aliAPPID": sjData.aliAPPID,
                                "aliPrivateKey": sjData.aliPrivateKey,
                                "aliPublicKey": sjData.aliPublicKey,
                                "aliPayPublicKey": sjData.aliPayPublicKey,
                                "paymentInstitutionNo": sjData.paymentInstitutionNo,
                                "insPrivateKey": sjData.insPrivateKey,
                                "notifyUrl": sjData.notifyUrl,
                                "paymentGateway": sjData.paymentGateway,
                                "disable": sjData.disable == 0 ? true : false,
                                "paymentName": sjData.paymentName,
                                "paymentSpell": sjData.paymentSpell,
                                "aliPID": sjData.aliPID,
                                "prefixPayment":sjData.prefixPayment,
                                "weChaChannelNumber":sjData.weChaChannelNumber,
                            })
                            authenticationQRCode = sjData.authenticationQRCode
                             $('#demo2').attr('src', sjData.authenticationQRCode)
                            type = sjData.disable == 0 ? true : false
                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    },
                    'post',
                    'false'
                )
            } else if (jgData.paymentChannelType == 5){
                 CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.getSxfChannel, {
                        'institutionNumber': userNumber,
                        'paymentChannel': jgData.id
                    },
                    function(data) {
                        if (data.code == 1000) {
                            console.log(data)
                            sjData = data.data
                            $('#sxf').show()
                            form.val('tongdao', {
                                "weChatAPPID": sjData.weChatAPPID,
                                "wechatAppSecret": sjData.wechatAppSecret,
                                "smallRoutineAPPID": sjData.smallRoutineAPPID,
                                "miniAppSecret": sjData.miniAppSecret,
                                "recommendAPPID": sjData.recommendAPPID,
                                "payDASD": sjData.payDASD,
                                "aLIAPPID": sjData.aLIAPPID,
                                "aLIPID":sjData.aLIPID,
                                "aLIPRIVATEKEY":sjData.aLIPRIVATEKEY,
                                "aLIPUBLICKEY":sjData.aLIPUBLICKEY,
                                "aLIPAYPUBLICKEY":sjData.aLIPAYPUBLICKEY,
                                "paymentInstitutionNo":sjData.paymentInstitutionNo,
                                "INSPRIVATEKEY":sjData.insprivatekey,
                                "INSPUBLICKEY":sjData.inspublickey,
                                "PUBLICKEY":sjData.publickey,
                                "notifyUrl":sjData.notifyUrl,
                                "paymentGateway":sjData.paymentGateway,
                                "paymentName":sjData.paymentName,
                                "paymentSpell":sjData.paymentSpell,
                                "prefixPayment":sjData.prefixPayment,
                                "weChaChannelNumber":sjData.weChaChannelNumber,
                            })
                            authenticationQRCode = sjData.authenticationQRCode
                             $('#demo3').attr('src', sjData.authenticationQRCode)
                            type = sjData.disable == 0 ? true : false
                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    },
                    'post',
                    'false'
                )
            }
            /*---------- 自定义验证规则 ----------*/
            form.verify({
                title: function(value) {
                    if (value.length == "") {
                        return '不能为空！';
                    }
                },
            })

            form.on('switch(GF_wxswitch)', function(data) { //充值优惠开关
                layer.tips('微信官方通道：' + (this.checked ? '已开启' : '已关闭'), data.othis)
                type = this.checked
            });
            form.on('switch(GF_zfbswitch)', function(data) { //计次开关
                layer.tips('支付宝官方通道：' + (this.checked ? '已开启' : '已关闭'), data.othis)
                type = this.checked
            });
            form.on('switch(fyswitch)', function(data) { //计时开关
                // layer.tips('富友通道：' + (this.checked ? '已开启' : '已关闭'), data.othis)
                type = this.checked
            });
            form.verify({
                alipayName: function(value) {
                    if (value.length == "") {
                        return '支付通道不能为空！';
                    }
                },
                alipaySpell: function(value) {
                    if (value.length == "") {
                        return '支付宝英文名称不能为空！';
                    }
                    var newReg = new RegExp('^[0-9a-zA-Z]+$')
                    if (!newReg.test(value)) {
                        return '通道英文名称只能为英文或数字'
                    }
                },
                alipayAppid: function(value) {
                    if (value.length == "") {
                        return '支付宝APPID不能为空！';
                    }
                },
                alipayPid: function(value) {
                    if (value.length == "") {
                        return '支付宝PID不能为空！';
                    }
                },
                privateKey: function(value) {
                    if (value.length == "") {
                        return 'RSA私钥不能为空！';
                    }
                },
                publicKey: function(value) {
                    if (value.length == "") {
                        return 'RSA公钥不能为空！';
                    }
                },
                alipayPublicKey: function(value) {
                    if (value.length == "") {
                        return '应用公钥不能为空！';
                    }
                },
                notifyUrl: function(value) {
                    if (value.length == "") {
                        return '支付宝回调地址不能为空！';
                    }
                },
                alipayPaymentGateway: function(value) {
                    if (value.length == "") {
                        return '支付宝支付网关不能为空';
                    }
                },
                miniAppSecret: function(value) {
                    if (value.length == "") {
                        return '微笑小程序AppSecret不能为空'
                    }
                }
            });
            /*---------- 监听提交 ----------*/
            form.on('submit(addzfb)', function(data, index) {
                var addData = data.field;
                addData.institutionNumber = userNumber;
                addData.paymentChannelType = 0
                addData.alipayNumber = jgData.id
                // addData.alipayDisable = type?0:1
                console.log(addData)
                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.updateAlipay,
                    addData,
                    function(data) {
                        if (data.code == 1000) {

                            parent.layer.msg('编辑成功')
                            x_admin_close()
                            parent.layui.table.reload('vip_cardList')

                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    }
                )
                return false;
            });
            form.verify({
                wechatName: function(value) {
                    if (value.length == "") {
                        return '支付通道不能为空！';
                    }
                },
                wechatSpell: function(value) {
                    if (value.length == "") {
                        return '支付宝英文名称不能为空！';
                    }
                    var newReg = new RegExp('^[0-9a-zA-Z]+$')
                    if (!newReg.test(value)) {
                        return '通道英文名称只能为英文或数字'
                    }
                },
                wechatAppid: function(value) {
                    if (value.length == "") {
                        return '公众号AppID不能为空！';
                    }
                },
                smallroutineAppid: function(value) {
                    if (value.length == "") {
                        return '微信小程序AppID不能为空！';
                    }
                },
                paymentSecretkey: function(value) {
                    if (value.length == "") {
                        return '微信支付秘钥不能为空！';
                    }
                },
                facilitatorId: function(value) {
                    if (value.length == "") {
                        return '微信服务商ID不能为空！';
                    }
                },
                wechatKey: function(value) {
                    if (value.length == "") {
                        return '微信支付key不能为空！';
                    }
                },
                tokenUrl: function(value) {
                    if (value.length == "") {
                        return '微信回调地址不能为空！';
                    }
                },
                wechatPaymentGateway: function(value) {
                    if (value.length == "") {
                        return '微信支付网关不能为空！';
                    }
                },
                miniAppSecret: function(value) {
                    if (value.length == "") {
                        return '微笑小程序AppSecret不能为空'
                    }
                }
            });
            form.on('submit(addwx)', function(data, index) {
                var addData = data.field;
                addData.institutionNumber = userNumber;
                // addData.wechatDisable = type?0:1
                addData.paymentChannelType = 1
                addData.wechatNumber = jgData.id
                addData.authorizationNo = gzhNo
                addData.weChatAuthorizeT = gzhAuthTime
                addData.authorizationNo2 = xcxNo
                addData.smallRoutineAuthorizeT = xcxAuthTime
                // gzhAuthTime
                // gzhNo
                // xcxAuthTime
                // authorizationNo: "1565857689504"
                // authorizationTime: "2019-08-15 16:28:36"
                // xcxNo
                console.log(addData)
                CmsUtility.postAjaxCall1(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.updateWeChat,
                    addData,
                    function(data) {
                        if (data.code == 1000) {

                            parent.layer.msg('编辑成功')
                            x_admin_close()
                            parent.layui.table.reload('vip_cardList')

                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    }
                )
                return false;
            });
            form.verify({
                paymentName: function(value) {
                    if (value.length == "") {
                        return '支付通道不能为空！';
                    }
                },
                paymentSpell: function(value) {
                    if (value.length == "") {
                        return '支付宝英文名称不能为空！';
                    }
                    var newReg = new RegExp('^[0-9a-zA-Z]+$')
                    if (!newReg.test(value)) {
                        return '通道英文名称只能为英文或数字'
                    }
                },
                title: function(value) {
                    if (value.length == "") {
                        return '不能为空！'
                    }
                },
                wxappid: function(value) {
                    if (value.length == "") {
                        return '微信APPID不能为空！';
                    }
                },
                miniappid: function(value) {
                    if (value.length == "") {
                        return '小程序APPID不能为空！';
                    }
                },
                siyao: function(value) {
                    if (value.length == "") {
                        return '商户私钥不能为空！';
                    }
                },
                gongyao: function(value) {
                    if (value.length == "") {
                        return '商户公钥不能为空！';
                    }
                },
                fygongyao: function(value) {
                    if (value.length == "") {
                        return '富友公钥不能为空！';
                    }
                },
                jigouhao: function(value) {
                    if (value.length == "") {
                        return '机构号不能为空！';
                    }
                },
                huidiaodizhi: function(value) {
                    if (value.length == "") {
                        return '回调地址不能为空';
                    }
                },
                zhifuwangguan: function(value) {
                    if (value.length == "") {
                        return '支付网关不能为空';
                    }
                },
                qianzhui: function(value) {
                    if (value.length == "") {
                        return '支付前缀不能为空';
                    }
                },
                entryKey: function(value) {
                    if (value.length == "") {
                        return '富友进件秘钥不能为空';
                    }
                },
                entryFtpN: function(value) {
                    if (value.length == "") {
                        return '进件FTP账号不能为空';
                    }
                },
                entryFtpP: function(value) {
                    if (value.length == "") {
                        return '进件FTP密码不能为空';
                    }
                },
                miniAppSecret: function(value) {
                    if (value.length == "") {
                        return '微笑小程序AppSecret不能为空'
                    }
                }
            });
            form.on('submit(addfy)', function(data, index) {
                var addData = data.field;
                addData.institutionNumber = userNumber;
                addData.paymentChannel = jgData.id
                addData.paymentChannelType = 2
                if(authenticationQRCode == ''){
                    layer.msg('请上传微信认证图片')
                    return false
                }
                addData.authenticationQRCode = authenticationQRCode
                console.log(addData)
                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.updateThirdpartyOfficial,
                    addData,
                    function(data) {
                        if (data.code == 1000) {

                            parent.layer.msg('编辑成功')
                            x_admin_close()
                            parent.layui.table.reload('vip_cardList')

                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    }
                )
                return false;
            });
            form.verify({
                paymentName: function(value) {
                    if (value.length == "") {
                        return '通道中文名称不能为空！';
                    }
                },
                paymentSpell: function(value) {
                    if (value.length == "") {
                        return '通道英文名称不能为空！';
                    }
                    var newReg = new RegExp('^[0-9a-zA-Z]+$')
                    if (!newReg.test(value)) {
                        return '通道英文名称只能为英文或数字'
                    }
                },
                title: function(value) {
                    if (value.length == "") {
                        return '不能为空！'
                    }
                },
                wxappid: function(value) {
                    if (value.length == "") {
                        return '微信APPID不能为空！';
                    }
                },
                wxappid1: function(value) {
                    if (value.length == "") {
                        return '公众号APPScrect不能为空！';
                    }
                },
                miniappid: function(value) {
                    if (value.length == "") {
                        return '小程序APPID不能为空！';
                    }
                },
                siyao: function(value) {
                    if (value.length == "") {
                        return '商户私钥不能为空！';
                    }
                },
                gongyao: function(value) {
                    if (value.length == "") {
                        return '商户公钥不能为空！';
                    }
                },
                fygongyao: function(value) {
                    if (value.length == "") {
                        return '易融码公钥不能为空！';
                    }
                },
                jigouhao: function(value) {
                    if (value.length == "") {
                        return '机构号不能为空！';
                    }
                },
                huidiaodizhi: function(value) {
                    if (value.length == "") {
                        return '回调地址不能为空';
                    }
                },
                zhifuwangguan: function(value) {
                    if (value.length == "") {
                        return '支付网关不能为空';
                    }
                },
                qianzhui: function(value) {
                    if (value.length == "") {
                        return '支付前缀不能为空';
                    }
                },
                entryKey: function(value) {
                    if (value.length == "") {
                        return '易融码进件秘钥不能为空';
                    }
                },
                entryFtpN: function(value) {
                    if (value.length == "") {
                        return '进件FTP账号不能为空';
                    }
                },
                entryFtpP: function(value) {
                    if (value.length == "") {
                        return '进件FTP密码不能为空';
                    }
                },
                appsecret1: function(value) {
                    if (value.length == "") {
                        return '推荐关注appid不能为空';
                    }
                },
                appsecret2: function(value) {
                    if (value.length == "") {
                        return '支付授权目录不能为空';
                    }
                },
                appsecret3: function(value) {
                    if (value.length == "") {
                        return '支付宝APPid不能为空';
                    }
                },
                appsecret4: function(value) {
                    if (value.length == "") {
                        return '机构号不能为空';
                    }
                },
                appsecret5: function(value) {
                    if (value.length == "") {
                        return '销售ID不能为空';
                    }
                },
                miniAppSecret: function(value) {
                    if (value.length == "") {
                        return '微笑小程序AppSecret不能为空'
                    }
                },
                prefixPayment: function(value) {
                    if (value.length == "") {
                        return '支付前缀不能为空';
                    }
                },
            })
            form.on('submit(addyrm)', function(data, index) {
                var addData = data.field;
                addData.institutionNumber = userNumber;
                addData.paymentChannel = jgData.id
                addData.paymentChannelType = 3
                if(authenticationQRCode == ''){
                    layer.msg('请上传微信认证图片')
                    return false
                }
                addData.authenticationQRCode = authenticationQRCode
                console.log(addData)
                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.updateYrmOfficial,
                    addData,
                    function(data) {
                        if (data.code == 1000) {

                            parent.layer.msg('编辑成功')
                            x_admin_close()
                            parent.layui.table.reload('vip_cardList')

                        } else {
                            layer.msg(data.msg)

                        }
                    },
                    function(data) {
                        console.log('222')
                    }
                )
                return false;
            });
            form.verify({
                paymentName: function(value) {
                    if (value.length == "") {
                        return '通道中文名称不能为空！';
                    }
                },
                paymentSpell: function(value) {
                    if (value.length == "") {
                        return '通道英文名称不能为空！';
                    }

                    var newReg = new RegExp('^[0-9a-zA-Z]+$')
                    if (!newReg.test(value)) {
                        return '通道英文名称只能为英文或数字'
                    }
                },
                title: function(value) {
                    if (value.length == "") {
                        return '不能为空！'
                    }
                },
                wxappid: function(value) {
                    if (value.length == "") {
                        return '微信APPID不能为空！';
                    }
                },
                wxappid1: function(value) {
                    if (value.length == "") {
                        return '公众号APPScrect不能为空！';
                    }
                },
                miniappid: function(value) {
                    if (value.length == "") {
                        return '小程序APPID不能为空！';
                    }
                },
                siyao: function(value) {
                    if (value.length == "") {
                        return '商户私钥不能为空！';
                    }
                },
                gongyao: function(value) {
                    if (value.length == "") {
                        return '商户公钥不能为空！';
                    }
                },
                fygongyao: function(value) {
                    if (value.length == "") {
                        return '易融码公钥不能为空！';
                    }
                },
                jigouhao: function(value) {
                    if (value.length == "") {
                        return '机构号不能为空！';
                    }
                },
                huidiaodizhi: function(value) {
                    if (value.length == "") {
                        return '回调地址不能为空';
                    }
                },
                zhifuwangguan: function(value) {
                    if (value.length == "") {
                        return '支付网关不能为空';
                    }
                },
                qianzhui: function(value) {
                    if (value.length == "") {
                        return '支付前缀不能为空';
                    }
                },
                entryKey: function(value) {
                    if (value.length == "") {
                        return '易融码进件秘钥不能为空';
                    }
                },
                entryFtpN: function(value) {
                    if (value.length == "") {
                        return '进件FTP账号不能为空';
                    }
                },
                entryFtpP: function(value) {
                    if (value.length == "") {
                        return '进件FTP密码不能为空';
                    }
                },
                appsecret1: function(value) {
                    if (value.length == "") {
                        return '推荐关注appid不能为空';
                    }
                },
                appsecret2: function(value) {
                    if (value.length == "") {
                        return '支付授权目录不能为空';
                    }
                },
                appsecret3: function(value) {
                    if (value.length == "") {
                        return '支付宝APPid不能为空';
                    }
                },
                appsecret4: function(value) {
                    if (value.length == "") {
                        return '机构号不能为空';
                    }
                },
                appsecret5: function(value) {
                    if (value.length == "") {
                        return '销售ID不能为空';
                    }
                },
                miniAppSecret: function(value) {
                    if (value.length == "") {
                        return '微笑小程序AppSecret不能为空'
                    }
                }
            });
            /*---------- 监听提交 ----------*/
            form.on('submit(addxdl)', function(data, index) {

                var addData = data.field
                addData.paymentType = 4
                // if (merchantCa == false) {
                //     addData.disable = 1
                // } else {
                //     addData.disable = 0
                // }
                addData.paymentChannel = jgData.id
                addData.institutionNumber = userNumber;
                if(authenticationQRCode == ''){
                    layer.msg('请上传微信认证图片')
                    return false
                }
                addData.authenticationQRCode = authenticationQRCode
                // 发送请求
                console.log(addData)
                CmsUtility.postAjaxCall(
                    //系统设置
                    CmsConfig.addressUrl.Mechanism.updateConfigureXdl,
                    addData,
                    function(data) {
                        if (data.code == '1000') {
                            layer.msg('编辑成功')
                            setTimeout(function() {
                                x_admin_close()
                                parent.layui.table.reload('vip_cardList')
                            }, 500)

                        } else {
                            layer.msg(data.msg)
                        }
                    },
                    function(data) {
                        console.log('222')
                    }
                )
                return false;
                return false;
            });
            form.verify({
            paymentName: function(value) {
                if (value.length == "") {
                    return '通道中文名称不能为空！';
                }
            },
            paymentSpell: function(value) {
                if (value.length == "") {
                    return '通道英文名称不能为空！';
                }
                
                var newReg = new RegExp('^[0-9a-zA-Z]+$')
                if(!newReg.test(value)){
                    return '通道英文名称只能为英文或数字'
                }
            },
            title: function(value) {
                if (value.length == "") {
                    return '不能为空！'
                }
            },
            wxappid: function(value) {
                if (value.length == "") {
                    return '微信APPID不能为空！';
                }
            },
            wxappid1: function(value) {
                if (value.length == "") {
                    return '公众号APPScrect不能为空！';
                }
            },
            miniappid: function(value) {
                if (value.length == "") {
                    return '小程序APPID不能为空！';
                }
            },
            siyao: function(value) {
                if (value.length == "") {
                    return '商户私钥不能为空！';
                }
            },
            gongyao: function(value) {
                if (value.length == "") {
                    return '商户公钥不能为空！';
                }
            },
            fygongyao: function(value) {
                if (value.length == "") {
                    return '易融码公钥不能为空！';
                }
            },
            jigouhao: function(value) {
                if (value.length == "") {
                    return '机构号不能为空！';
                }
            },
            huidiaodizhi: function(value) {
                if (value.length == "") {
                    return '回调地址不能为空';
                }
            },
            zhifuwangguan: function(value) {
                if (value.length == "") {
                    return '支付网关不能为空';
                }
            },
            prefixPayment: function(value) {
                if (value.length == "") {
                    return '支付前缀不能为空';
                }
            },
            entryKey: function(value) {
                if (value.length == "") {
                    return '易融码进件秘钥不能为空';
                }
            },
            entryFtpN: function(value) {
                if (value.length == "") {
                    return '进件FTP账号不能为空';
                }
            },
            entryFtpP: function(value) {
                if (value.length == "") {
                    return '进件FTP密码不能为空';
                }
            },
            appsecret1:function(value){
                if (value.length == "") {
                    return '推荐关注appid不能为空';
                }
            },
            appsecret2:function(value){
                if (value.length == "") {
                    return '支付授权目录不能为空';
                }
            },
             appsecret3:function(value){
                if (value.length == "") {
                    return '支付宝APPid不能为空';
                }
            },
            appsecret4:function(value){
                if (value.length == "") {
                    return '机构号不能为空';
                }
            },
            appsecret5:function(value){
                if (value.length == "") {
                    return '销售ID不能为空';
                }
            },
            miniAppSecret:function(value){
                if(value.length == ""){
                    return '微笑小程序AppSecret不能为空'
                }
            }
        });
            
            var time1,time2;
        $('#shouquan').click(function(){
            layer.confirm('如需重新授权，请先去公众号平台解除对应授权！', {icon: 3,btn: ['已解除', '取消'], title:'重新授权'}, function(index){
              //do something
                // console.log('queding')
                // var qxObj = new Object()
                // qxObj.authorizationNo = gzhNo
                // $.ajax({
                //     //url: "https://api-cs.51shanhe.com/p-server/appServer/getInfo",
                //     url:"http://api.51shanhe.com/p-member/authorize/cancelInsAuthorizet",
                //     // url:"http://hstest123.natapp1.cc/shanhe-member/authorize/geAuthorizetUrl",
                //     type: "POST",
                //     async: false,
                //     headers: {
                //         "Content-Type": "application/json"
                //     },
                //     data: JSON.stringify(qxObj),
                //     dataType:'json',
                //     success: function(data) {
                //         if(data.code == 1000){
                //             var strTime = new Date().getTime();
                //             console.log(strTime)
                //             sessionStorage.setItem('jgGzhStr',strTime)
                //             layer.open({
                //                 type: 2, //此处以iframe举例
                //                 title: '授权',
                //                 area: ['90%', '90%'],
                //                 shade: 0.5,
                //                 resize: false,
                //                 content: 'http://api.51shanhe.com/wechatAuth/authBack.html?authType=3&institutionNumber='+userNumber + '&str=' + strTime,
                //                 success: function(layero) {
                //                     layer.setTop(layero); //重点2
                //                 }
                //             });
                //              time1 = setInterval(function(){
                //                 $.ajax({
                //                     //url: "https://api-cs.51shanhe.com/p-server/appServer/getInfo",
                //                     url:"http://api.51shanhe.com/p-member/authorize/getInsAuthorizetInfo",
                //                     // url:"http://hstest123.natapp1.cc/shanhe-member/authorize/geAuthorizetUrl",
                //                     type: "GET",
                //                     async: false,
                //                     headers: {
                //                         "Content-Type": "application/x-www-form-urlencoded"
                //                     },
                //                     data: {
                //                       "authorizationNo": sessionStorage.getItem('jgGzhStr')
                //                     },
                //                     success: function(data) {
                //                         if(data.code == '1000'){
                //                              clearInterval(time1)
                //                             gzhAuthId = data.data.authorizationAppId
                //                             gzhAuthTime = data.data.authorizationTime
                //                             gzhNo = data.data.authorizationNo
                //                             form.val('GF_wx', {
                //                                 "wechatAppid": data.data.authorizationAppId,
                //                                 "weChatAuthorizeT":'授权时间:' + data.data.authorizationTime,
                //                             })
                //                         }
                                       
                //                     }
                //                 })  
                //             },15000)
                //         }else{
                //             layer.msg(data.msg)
                //         }             
                //     }
                // })  
                var strTime = new Date().getTime();
                            console.log(strTime)
                            sessionStorage.setItem('jgGzhStr',strTime)
                            layer.open({
                                type: 2, //此处以iframe举例
                                title: '授权',
                                area: ['90%', '90%'],
                                shade: 0.5,
                                resize: false,
                                content: 'http://api.51shanhe.com/wechatAuth/authBack.html?authType=3&institutionNumber='+userNumber + '&str=' + strTime,
                                success: function(layero) {
                                    layer.setTop(layero); //重点2
                                }
                            });
                             time1 = setInterval(function(){
                                $.ajax({
                                    //url: "https://api-cs.51shanhe.com/p-server/appServer/getInfo",
                                    url:"http://api.51shanhe.com/p-member/authorize/getInsAuthorizetInfo",
                                    // url:"http://hstest123.natapp1.cc/shanhe-member/authorize/geAuthorizetUrl",
                                    type: "GET",
                                    async: false,
                                    headers: {
                                        "Content-Type": "application/x-www-form-urlencoded"
                                    },
                                    data: {
                                      "authorizationNo": sessionStorage.getItem('jgGzhStr')
                                    },
                                    success: function(data) {
                                        if(data.code == '1000'){
                                             clearInterval(time1)
                                            gzhAuthId = data.data.authorizationAppId
                                            gzhAuthTime = data.data.authorizationTime
                                            gzhNo = data.data.authorizationNo
                                            form.val('GF_wx', {
                                                "wechatAppid": data.data.authorizationAppId,
                                                "weChatAuthorizeT":'授权时间:' + data.data.authorizationTime,
                                            })
                                        }
                                       
                                    }
                                })  
                            },15000)
            },function(index){
                console.log('quxiao')
                layer.close(index);
            }
            );
           
        })
        $('#shouquan1').click(function(){
            layer.confirm('如需重新授权，请先去小程序平台解除对应授权！', {icon: 3,btn: ['已解除', '取消'], title:'重新授权'}, function(index){
              //do something
                console.log('queding')
                // var qxObj = new Object()
                // qxObj.authorizationNo = xcxNo
                // $.ajax({
                //     //url: "https://api-cs.51shanhe.com/p-server/appServer/getInfo",
                //     url:"http://api.51shanhe.com/p-member/authorize/cancelInsAuthorizet",
                //     // url:"http://hstest123.natapp1.cc/shanhe-member/authorize/geAuthorizetUrl",
                //     type: "POST",
                //     async: false,
                //     headers: {
                //         "Content-Type": "application/json"
                //     },
                //     data: JSON.stringify(qxObj),
                //     dataType:'json',
                //     success: function(data) {
                //         if(data.code == 1000){
                //             var strTime = new Date().getTime();
                //             console.log(strTime)
                //             sessionStorage.setItem('jgXcxStr',strTime)
                //             layer.open({
                //                 type: 2, //此处以iframe举例
                //                 title: '授权',
                //                 area: ['90%', '90%'],
                //                 shade: 0.5,
                //                 resize: false,
                //                 content: 'http://api.51shanhe.com/wechatAuth/authBack.html?authType=4&institutionNumber='+userNumber+'&str=' + strTime,
                //                 success: function(layero) {
                //                     layer.setTop(layero); //重点2
                //                 }
                //             });
                //              time2 = setInterval(function(){
                //                 $.ajax({
                //                     //url: "https://api-cs.51shanhe.com/p-server/appServer/getInfo",
                //                     url:"http://api.51shanhe.com/p-member/authorize/getInsAuthorizetInfo",
                //                     // url:"http://hstest123.natapp1.cc/shanhe-member/authorize/geAuthorizetUrl",
                //                     type: "GET",
                //                     async: false,
                //                     headers: {
                //                         "Content-Type": "application/x-www-form-urlencoded"
                //                     },
                //                     data: {
                //                       "authorizationNo": sessionStorage.getItem('jgXcxStr')
                //                     },
                //                     success: function(data) {
                                       
                //                         if(data.code = 1000){
                //                             clearInterval(time2)
                //                             xcxAuthTime = data.data.authorizationTime
                //                             xcxNo = data.data.authorizationNo
                //                             form.val('GF_wx', {
                                               
                //                                 "smallRoutineAuthorizeT":'授权时间：' + data.data.xcxAuthTime,
                //                                 "smallroutineAppid": datad.data.authorizationAppId,
                                                
                //                             })
                //                         }
                                        
                                        
                //                     }
                //                 })  
                //             },15000)
                //         }else{
                //             layer.msg(data.msg)
                //         }             
                //     }
                // })  
                var strTime = new Date().getTime();
                            console.log(strTime)
                            sessionStorage.setItem('jgXcxStr',strTime)
                            layer.open({
                                type: 2, //此处以iframe举例
                                title: '授权',
                                area: ['90%', '90%'],
                                shade: 0.5,
                                resize: false,
                                content: 'http://api.51shanhe.com/wechatAuth/authBack.html?authType=4&institutionNumber='+userNumber+'&str=' + strTime,
                                success: function(layero) {
                                    layer.setTop(layero); //重点2
                                }
                            });
                             time2 = setInterval(function(){
                                $.ajax({
                                    //url: "https://api-cs.51shanhe.com/p-server/appServer/getInfo",
                                    url:"http://api.51shanhe.com/p-member/authorize/getInsAuthorizetInfo",
                                    // url:"http://hstest123.natapp1.cc/shanhe-member/authorize/geAuthorizetUrl",
                                    type: "GET",
                                    async: false,
                                    headers: {
                                        "Content-Type": "application/x-www-form-urlencoded"
                                    },
                                    data: {
                                      "authorizationNo": sessionStorage.getItem('jgXcxStr')
                                    },
                                    success: function(data) {
                                       
                                        if(data.code == 1000){
                                            clearInterval(time2)
                                            xcxAuthTime = data.data.authorizationTime
                                            xcxNo = data.data.authorizationNo
                                            form.val('GF_wx', {
                                               
                                                "smallRoutineAuthorizeT":'授权时间：' + data.data.xcxAuthTime,
                                                "smallroutineAppid": datad.data.authorizationAppId,
                                                
                                            })
                                        }
                                        
                                        
                                    }
                                })  
                            },15000)
            },function(index){
                console.log('quxiao')
                layer.close(index);
            }
            );
            
        })
//普通图片上传
                var uploadInst = upload.render({
                    elem: '#test3',
                    url: CmsConfig.ServiceUrl.ApiRootUrl +'qrcodeSetting/updateQrcadeImg',
                    data: {
                        "institutionNumber": userNumber,
                    },
                    size:1024,
                    before: function(obj) {
                        console.log(obj)
                        //预读本地文件示例，不支持ie8
                        obj.preview(function(index, file, result) {
                            $('#demo3').attr('src', result); //图片链接（base64）
                        });
                    },
                    done: function(res) {
                        //如果上传失败
                        if (res.code != 1000) {
                            // var demoText = $('#demoText3');
                            // demoText.html(
                            //     '<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                            // demoText.find('.demo-reload').on('click', function() {
                            //     uploadInst.upload();
                            // });
                            return layer.msg('上传失败');

                        } else {
                            authenticationQRCode = res.data
                            return layer.msg('上传成功');

                        }
                        //上传成功
                        console.log(res)
                    },
                    error: function() {
                        //演示失败状态，并实现重传
                        // var demoText = $('#demoText3');
                        // demoText.html(
                        //     '<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                        // demoText.find('.demo-reload').on('click', function() {
                        //     uploadInst.upload();
                        // });
                    }
                });
                var uploadInst = upload.render({
                    elem: '#test2',
                    url: CmsConfig.ServiceUrl.ApiRootUrl +'qrcodeSetting/updateQrcadeImg',
                    data: {
                        "institutionNumber": userNumber,
                    },
                    size:1024,
                    before: function(obj) {
                        console.log(obj)
                        //预读本地文件示例，不支持ie8
                        obj.preview(function(index, file, result) {
                            $('#demo2').attr('src', result); //图片链接（base64）
                        });
                    },
                    done: function(res) {
                        //如果上传失败
                        if (res.code != 1000) {
                            // var demoText = $('#demoText3');
                            // demoText.html(
                            //     '<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                            // demoText.find('.demo-reload').on('click', function() {
                            //     uploadInst.upload();
                            // });
                            return layer.msg('上传失败');

                        } else {
                            authenticationQRCode = res.data
                            return layer.msg('上传成功');

                        }
                        //上传成功
                        console.log(res)
                    },
                    error: function() {
                        //演示失败状态，并实现重传
                        // var demoText = $('#demoText3');
                        // demoText.html(
                        //     '<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                        // demoText.find('.demo-reload').on('click', function() {
                        //     uploadInst.upload();
                        // });
                    }
                });
                var uploadInst = upload.render({
                    elem: '#test1',
                    url: CmsConfig.ServiceUrl.ApiRootUrl +'qrcodeSetting/updateQrcadeImg',
                    data: {
                        "institutionNumber": userNumber,
                    },
                    size:1024,
                    before: function(obj) {
                        console.log(obj)
                        //预读本地文件示例，不支持ie8
                        obj.preview(function(index, file, result) {
                            $('#demo1').attr('src', result); //图片链接（base64）
                        });
                    },
                    done: function(res) {
                        //如果上传失败
                        if (res.code != 1000) {
                            // var demoText = $('#demoText3');
                            // demoText.html(
                            //     '<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                            // demoText.find('.demo-reload').on('click', function() {
                            //     uploadInst.upload();
                            // });
                            return layer.msg('上传失败');

                        } else {
                            authenticationQRCode = res.data
                            return layer.msg('上传成功');

                        }
                        //上传成功
                        console.log(res)
                    },
                    error: function() {
                        //演示失败状态，并实现重传
                        // var demoText = $('#demoText3');
                        // demoText.html(
                        //     '<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                        // demoText.find('.demo-reload').on('click', function() {
                        //     uploadInst.upload();
                        // });
                    }
                });
        form.on('submit(add)', function(data, index) {

            var addData = data.field
            // addData.paymentType = 5
           addData.disable = sjData.disable
            // if(addData.disable == 'on'){
            //     addData.disable = 0
            // }else{
            //     addData.disable = 1
            // }
            addData.paymentChannel = sjData.paymentChannel
            addData.institutionNumber = userNumber;
            addData.authenticationQRCode = authenticationQRCode
            // 发送请求
            console.log(addData)
            CmsUtility.postAjaxCall(
                //系统设置
                CmsConfig.addressUrl.Mechanism.updateSxlChannel,
                addData,
                function(data) {
                    if (data.code == '1000') {
                        layer.msg('编辑成功')
                        setTimeout(function() {
                            x_admin_close()
                            parent.layui.table.reload('vip_cardList')
                        }, 500)

                    } else {
                        layer.msg(data.msg)
                    }
                },
                function(data) {
                    console.log('222')
                }
            )
            return false;
        });
        });

    }
    </script>
</body>

</html>